---
title: "p8105_hw2_jl6321.Rmd"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
library(dplyr)
library(tidyverse)
```

## Problem 2

```{r mr_trash}
data_mr_trash = read_excel("Trash Wheel Collection Data.xlsx", sheet = "Mr. Trash Wheel", range = "A2:N549") %>%
  janitor::clean_names()
data_mr_trash$sports_balls = as.integer(round(data_mr_trash$sports_balls)) 
```

```{r prof_trash}
data_prof_trash = read_excel("Trash Wheel Collection Data.xlsx", sheet = "Professor Trash Wheel", range = "A2:M96") %>%
  janitor::clean_names()
```

```{r join_dfs}
data_mr_trash$trash_wheel = "mr"
data_prof_trash$trash_wheel = "prof"
data_mr_trash$year = as.double(data_mr_trash$year)
data_joined_trash = full_join(data_mr_trash, data_prof_trash)
```

In the resulting dataset, there are `r nrow(data_joined_trash)` observations in total. Some examples of key variables are dumpster, year, weight_tons, and sports_balls. The total weight of trash collected by Professor Trash Wheel is `r sum(data_prof_trash$weight_tons)` tons. The total number of sports balls collected by Mr. Trash Wheel in 2020 is `r sum(filter(data_mr_trash, year == 2020)$sports_balls)`. 

## Problem 3

```{r pols_month}
data_pols_month = read.csv("pols-month.csv") %>%
  separate(mon, into = c("year", "month", "day"), sep = '-') %>% 
  mutate(president = recode(prez_gop, `1` = "gop", `0` = "dem"))
data_pols_month$month = month.abb[as.numeric(data_pols_month$month)] 
data_pols_month = subset(data_pols_month, select = -c(prez_dem, prez_gop, day))
```

```{r snp}
data_snp = read.csv("snp.csv") %>%
  separate(date, into = c("month", "day", "year"), sep = '/') 
data_snp$year = as.numeric(data_snp$year)
data_snp = mutate(data_snp, year = case_when(year < 22 ~ 2000 + year, year > 22 ~ 1900 + year)) %>% 
  relocate(year) 
data_snp$month = month.abb[as.numeric(data_snp$month)] 
data_snp = subset(data_snp, select = -c(day))
```

```{r unemployment}
data_unemployment = read.csv("unemployment.csv") %>% 
  pivot_longer(
    Jan:Dec, 
    names_to = "month", 
    values_to = "unemployment"
  ) %>% 
  janitor::clean_names()
```


```{r, eval=FALSE}
View(data_unemployment)
```

